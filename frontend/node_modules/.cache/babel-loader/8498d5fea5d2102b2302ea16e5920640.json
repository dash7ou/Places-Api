{"ast":null,"code":"var _jsxFileName = \"/home/error/Desktop/React-Projects/place-api/frontend/src/places/components/PlaceItem.js\";\nimport React, { useState, Fragment, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Card from \"../../shared/components/UIElements/Card\";\nimport Button from \"../../shared/components/FormElements/Button\";\nimport Modal from \"../../shared/components/UIElements/Modal\";\nimport Map from \"../../shared/components/UIElements/Map\";\nimport { AuthContext } from \"../../shared/context/auth-context\";\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\nimport Spinner from \"../../shared/components/UIElements/LoadingSpinner\";\nimport \"./PlaceItem.css\";\n\nconst PlaceItem = ({\n  place: {\n    _id,\n    image,\n    title,\n    description,\n    address,\n    creator,\n    location\n  }\n}) => {\n  const {\n    isLoggedIn\n  } = useContext(AuthContext);\n  const [showMap, changeStateShow] = useState(false);\n  const [showConfirm, changeConfirmState] = useState(false);\n  const [isLoading, error, sendRequest, clearError] = useHttpClient();\n  const history = useHistory();\n\n  const onChangeStateShow = () => {\n    changeStateShow(!showMap);\n  };\n\n  const onCahngeStateShowConfirm = () => {\n    changeConfirmState(!showConfirm);\n  };\n\n  const confirmDeleteHandler = async () => {\n    try {\n      await sendRequest(`http://localhost:5000/api/v1/places/${_id.toString()}`, 'DELETE');\n    } catch (err) {}\n\n    history.push(`${creator}/places`);\n    onCahngeStateShowConfirm();\n  };\n\n  return React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, isLoading && React.createElement(Spinner, {\n    asOverlay: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }), React.createElement(Modal, {\n    show: showMap,\n    onCancel: onChangeStateShow,\n    header: address,\n    contentClass: \"place-item__modal-content\",\n    footerClass: \"place-item__modal-actions\",\n    footer: React.createElement(Button, {\n      onClick: onChangeStateShow,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"Close\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"map-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(Map, {\n    center: location,\n    zoom: 16,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }))), React.createElement(Modal, {\n    show: showConfirm,\n    onCancel: onCahngeStateShowConfirm,\n    header: \"Are you sure ?\",\n    footerClass: \"place-item__modal-actions\",\n    footer: React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(Button, {\n      inverse: true,\n      onClick: onCahngeStateShowConfirm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \" Cancel \"), React.createElement(Button, {\n      danger: true,\n      onClick: confirmDeleteHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \" Delete \")),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, \"Do you want to proceed and delete this place? Please note that it can't be undone.\")), React.createElement(\"li\", {\n    className: \"place-item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(Card, {\n    className: \"place-item__content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"place-item__image\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: image,\n    alt: title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"place-item__info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, title), React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, address), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, description)), React.createElement(\"div\", {\n    className: \"place-item__actions\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(Button, {\n    inverse: true,\n    onClick: onChangeStateShow,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"View On Map\"), isLoggedIn && React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(Button, {\n    to: `/places/${_id}`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, \"EDIT\"), React.createElement(Button, {\n    danger: true,\n    onClick: onCahngeStateShowConfirm,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \"DELETE\"))))));\n};\n\nexport default PlaceItem;","map":{"version":3,"sources":["/home/error/Desktop/React-Projects/place-api/frontend/src/places/components/PlaceItem.js"],"names":["React","useState","Fragment","useContext","useHistory","Card","Button","Modal","Map","AuthContext","useHttpClient","ErrorModal","Spinner","PlaceItem","place","_id","image","title","description","address","creator","location","isLoggedIn","showMap","changeStateShow","showConfirm","changeConfirmState","isLoading","error","sendRequest","clearError","history","onChangeStateShow","onCahngeStateShowConfirm","confirmDeleteHandler","toString","err","push"],"mappings":"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","sourcesContent":["import React, { useState, Fragment, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport Card from \"../../shared/components/UIElements/Card\";\nimport Button from \"../../shared/components/FormElements/Button\";\nimport Modal from \"../../shared/components/UIElements/Modal\";\nimport Map from \"../../shared/components/UIElements/Map\";\nimport { AuthContext } from \"../../shared/context/auth-context\";\nimport  { useHttpClient } from \"../../shared/hooks/http-hook\";\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\nimport Spinner from \"../../shared/components/UIElements/LoadingSpinner\";\n\nimport \"./PlaceItem.css\"\n\nconst PlaceItem = ({ place: {_id, image, title, description, address, creator, location }})=>{\n    const { isLoggedIn } = useContext(AuthContext)\n    const [showMap, changeStateShow] = useState(false);\n    const [showConfirm , changeConfirmState ] = useState(false);\n    const [ isLoading , error , sendRequest, clearError ] = useHttpClient();\n\n    const history = useHistory()\n\n    const onChangeStateShow = ()=>{\n        changeStateShow(!showMap)\n    }\n\n    const onCahngeStateShowConfirm = ()=>{\n        changeConfirmState(!showConfirm)\n    }\n\n    const confirmDeleteHandler = async ()=>{\n        try{\n            await sendRequest(`http://localhost:5000/api/v1/places/${_id.toString()}`, 'DELETE');\n        }catch(err){}\n        history.push(`${creator}/places`);\n        onCahngeStateShowConfirm()\n\n    }\n\n    return (\n        <Fragment>\n            {isLoading && <Spinner  asOverlay />}\n            <Modal \n                show={showMap} \n                onCancel={onChangeStateShow}\n                header={address}\n                contentClass=\"place-item__modal-content\"\n                footerClass=\"place-item__modal-actions\"\n                footer={<Button onClick={onChangeStateShow}>Close</Button>}\n            >\n                <div className=\"map-container\">\n                    <Map center={location} zoom={16}/>\n                </div>\n            </Modal>\n            <Modal\n                show={showConfirm}\n                onCancel={onCahngeStateShowConfirm}\n                header=\"Are you sure ?\"\n                footerClass=\"place-item__modal-actions\"\n                footer={\n                    <Fragment>\n                        <Button inverse onClick={onCahngeStateShowConfirm}> Cancel </Button>\n                        <Button danger onClick={confirmDeleteHandler}> Delete </Button>\n                    </Fragment>\n                }\n\n\n            >\n                <p>\n                    Do you want to proceed and delete this place? Please note that it can't be undone.\n                </p>\n            </Modal>\n            <li className=\"place-item\">\n                <Card className=\"place-item__content\">\n                    <div className=\"place-item__image\">\n                        <img src={image} alt={title} />\n                    </div>\n                    <div className=\"place-item__info\">\n                        <h2>{title}</h2>\n                        <h3>{address}</h3>\n                        <p>{description}</p>\n                    </div>\n                    <div className=\"place-item__actions\">\n                        <Button inverse onClick={onChangeStateShow}>View On Map</Button>\n                        {isLoggedIn && <Fragment><Button to={`/places/${_id}`}>EDIT</Button>\n                        <Button danger onClick={onCahngeStateShowConfirm}>DELETE</Button></Fragment>}\n                    </div>\n                </Card>\n            </li>\n        </Fragment>\n    );\n}\n\n\nexport default PlaceItem;"]},"metadata":{},"sourceType":"module"}